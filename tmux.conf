

set -g mouse on

# Start window and pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Increase scrollback buffer size
set -g history-limit 50000

# Display tmux messages for 750ms (default)
set -g display-time 750

# Refresh status bar every second (for seconds display in clock)
set -g status-interval 1

# Focus events enabled for terminals that support them
set -g focus-events on

# Super useful when using "grouped sessions" and multi-monitor setup
setw -g aggressive-resize on

# Enable true color support
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Faster command sequences - use 10ms like neovim recommends
set -s escape-time 10

# Allow arrow keys to be used immediately after changing windows
set -g repeat-time 0

# Display panes for longer
set -g display-panes-time 3000

# Easy config reload
bind r source-file ~/.tmux.conf \; display-message "tmux.conf reloaded."

# Additional useful bindings
bind : command-prompt

# ===========================
# Catppuccin Theme
# ===========================

# Configure catppuccin
set -g @catppuccin_flavor "mocha"
set -g @catppuccin_window_status_style "rounded"

# Use window name (#W) instead of pane title (#T)
set -g @catppuccin_window_text " #W"
set -g @catppuccin_window_current_text " #W"

# Status bar configuration
set -g status-left-length 100
set -g status-right-length 100
set -g status-left ""

# Override date_time format to include seconds
set -g @catppuccin_date_time_text " %Y-%m-%d %H:%M:%S"

# Visual indicator for zoomed pane
set -g status-left "#{?window_zoomed_flag,#[fg=#11111b#,bg=#f38ba8#,bold] üîç ZOOMED #[fg=#f38ba8#,bg=#1e1e2e] ,}"

run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux

# Build status-right with modules (must be AFTER loading theme)
set -g status-right "#{E:@catppuccin_status_host}"
set -agF status-right "#{E:@catppuccin_status_date_time}"

# ===========================
# Additional Nice Features
# ===========================

# Automatic window naming (off to allow manual renaming)
set-window-option -g automatic-rename off

# tmux window titling for X
set -g set-titles on
set -g set-titles-string '[#I] #W'

# Enable clipboard integration (macOS)
set -g set-clipboard on

# =================
# split commands
# =================
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D
